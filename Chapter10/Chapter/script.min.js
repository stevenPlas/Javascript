"use strict";function setUpPage(){document.querySelector("nav ul li:first-of-type").addEventListener("click",loadSetup,!1),document.querySelector("nav ul li:last-of-type").addEventListener("click",loadDirections,!1);var a=document.querySelectorAll("#room div");zIndexCounter=a.length+1;for(var b=0;b<a.length;b++)a[b].addEventListener("mspointerdown",startDrag,!1),a[b].addEventListener("pointerdown",startDrag,!1),a[b].addEventListener?(a[b].addEventListener("mousedown",startDrag,!1),a[b].addEventListener("touchstart",startDrag,!1)):a[b].attachEvent&&a[b].attachEvent(onmousedown,startDrag)}function loadSetup(){document.querySelector("nav ul li:first-of-type").className="current",document.querySelector("nav ul li:last-of-type").className="",document.getElementById("setup").style.display="block",document.getElementById("location").style.display="none",location.search=""}function loadDirections(a){if(document.querySelector("nav ul li:first-of-type").className="",document.querySelector("nav ul li:last-of-type").className="current",document.getElementById("setup").style.display="none",document.getElementById("location").style.display="block",geoTest(),"object"!=typeof google){var b=document.createElement("script");b.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&callback=geoTest",document.body.appendChild(b)}}function geoTest(){waitForUser=setTimeout(fail,1e4),navigator.geolocation?navigator.geolocation.getCurrentPosition(createDirections,fail,{timeout:1e4}):fail()}function createDirections(a){clearTimeout(waitForUser);var d=(a.coords.latitude,a.coords.longitude,{center:new google.maps.LatLng(39.96118,-82.99879),zoom:12});new google.maps.Map(document.getElementById("map"),d)}function fail(){document.getElementById("map").innerHTML="Unable to access your current location."}function startDrag(a){this.style.zIndex=zIndexCounter,zIndexCounter++,"mousedown"!==a.type?(a.preventDefault(),this.addEventListener("touchmove",moveDrag,!1),this.addEventListener("mspointermove",moveDrag,!1),this.addEventListener("pointermove",moveDrag,!1),this.addEventListener("touchend",removeTouchListener,!1),this.addEventListener("mspointerup",removeTouchListener,!1),this.addEventListener("pointerup",removeTouchListener,!1)):(this.addEventListener("mousemove",moveDrag,!1),this.addEventListener("mouseup",removeDragListener,!1)),pos=[this.offsetLeft,this.offsetTop],origin=getCoords(a)}function moveDrag(a){var b=getCoords(a),c=b[0]-origin[0],d=b[1]-origin[1];this.style.left=pos[0]+c+"px",this.style.top=pos[1]+d+"px"}function getCoords(a){var b=[];if(a.targetTouches&&a.targetTouches.length){var c=a.targetTouches[0];b[0]=c.clientX,b[1]=c.clientY}else b[0]=a.clientX,b[1]=a.clientY;return b}function removeDragListener(){this.removeEventListener("mousemove",moveDrag,!1),this.removeEventListener("mouseup",removeDragListener,!1)}function removeTouchListener(){this.removeEventListener("touchmove",moveDrag,!1),this.removeEventListener("mspointermove",moveDrag,!1),this.removeEventListener("pointermove",moveDrag,!1),this.removeEventListener("touchend",removeTouchListener,!1),this.removeEventListener("mspointerup",removeTouchListener,!1),this.removeEventListener("pointerup",removeTouchListener,!1)}var zIndexCounter,pos=[],origin,waitForUser;window.addEventListener("load",setUpPage,!1);
